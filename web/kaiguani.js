const mw=u;(function(Y,v){const t=u,g=Y();while(!![]){try{const x=parseInt(t(0xa8))/0x1+-parseInt(t(0x1d))/0x2*(-parseInt(t(0xa7))/0x3)+parseInt(t(0x41))/0x4*(parseInt(t(0x70))/0x5)+-parseInt(t(0xd))/0x6*(parseInt(t(0xa5))/0x7)+parseInt(t(0x2d))/0x8+parseInt(t(0x44))/0x9+-parseInt(t(0xbd))/0xa*(parseInt(t(0xe5))/0xb);if(x===v)break;else g['push'](g['shift']());}catch(B){g['push'](g['shift']());}}}(b,0xea9be));const A=(function(){let Y=!![];return function(v,g){const x=Y?function(){const K=u;if(g){const B=g[K(0x79)](v,arguments);return g=null,B;}}:function(){};return Y=![],x;};}()),m=A(this,function(){const Q=u,Y=function(){const P=u;let B;try{B=Function('return\x20(function()\x20'+P(0x80)+');')();}catch(J){B=window;}return B;},v=Y(),g=v[Q(0x28)]=v[Q(0x28)]||{},x=[Q(0x43),Q(0xcc),'info','error',Q(0x49),'table',Q(0xe7)];for(let B=0x0;B<x[Q(0x2e)];B++){const J=A['constructor']['prototype'][Q(0x68)](A),e=x[B],S=g[e]||J;J[Q(0xf)]=A['bind'](A),J[Q(0x27)]=S[Q(0x27)][Q(0x68)](S),g[e]=J;}});m();import{app}from'/scripts/app.js';import{ComfyWidgets}from'/scripts/widgets.js';function getSafeWidgetName(Y){const R=u;if(!Y)return null;return Y[R(0x1c)](/[^\w\u4e00-\u9fa5]/g,'_')['toLowerCase']();}function serializeGroupSwitchWidget(Y){const j=u;return{'name':Y[j(0xe)],'type':Y[j(0xae)],'value':Y['value'],'api_name':Y[j(0x7f)],'api_id':Y[j(0x3d)],'exposed':Y[j(0x5c)],'groupName':Y[j(0xe2)],'options':Y[j(0x85)]?{'values':Y[j(0x85)][j(0x3e)],'min':Y[j(0x85)][j(0xad)],'max':Y['options'][j(0x96)],'step':Y[j(0x85)][j(0x86)],'step2':Y[j(0x85)][j(0x48)],'precision':Y['options'][j(0xc8)],'round':Y[j(0x85)][j(0xb5)],'default':Y[j(0x85)][j(0x1f)],'placeholder':Y[j(0x85)][j(0xd3)]}:undefined};}function initializeWidgetPsapiProperties(Y,v=![]){const h=u;!Y[h(0x30)](h(0x5c))&&(Y['exposed']=v),!Y[h(0x7f)]&&(Y[h(0x7f)]=Y[h(0xe)]),!Y['api_id']&&(Y['api_id']=null);}function u(m,A){const Y=b();return u=function(v,g){v=v-0x0;let x=Y[v];return x;},u(m,A);}function getGroupWidgetName(Y,v){const T=u,g=Y[T(0x82)]||T(0x37)+(v+0x1);return getSafeWidgetName(g);}function setupGroupSwitches(Y){const O=u;if(!Y[O(0x8f)])return;if(Y['psapi']){app[O(0x54)][O(0x12)]&&app[O(0x54)][O(0x12)][O(0x51)](x=>{const m0=O;x&&(x[m0(0x69)](),x['_nodes']&&(x[m0(0x23)]=x[m0(0x23)][m0(0x4b)](B=>B!==null&&B!==undefined)));});if(Y[O(0xd9)]){Y[O(0x8f)]=[],Y[O(0xd9)][O(0x51)](x=>{const m1=O;if(x[m1(0xae)]===m1(0x4e)){const B=ComfyWidgets[m1(0xbc)](Y,x[m1(0xe)],[x[m1(0xae)],{'values':x[m1(0x85)]?.['values']||[m1(0x26),m1(0xb),m1(0x99)],'default':x['value']}]);B[m1(0x53)][m1(0x5c)]=x[m1(0x5c)],B[m1(0x53)][m1(0x7f)]=x[m1(0x7f)],B[m1(0x53)][m1(0x3d)]=x[m1(0x3d)],B[m1(0x53)][m1(0xe2)]=x[m1(0xe2)];}else{if(x[m1(0xae)]==='toggle'){const J=ComfyWidgets['BOOLEAN'](Y,x[m1(0xe)],[m1(0x5e),{'default':![],'label_on':x[m1(0x85)]?.['label_on']||m1(0x87),'label_off':x[m1(0x85)]?.[m1(0xba)]||m1(0xa6),'label':x['options']?.[m1(0xb6)]||x[m1(0xe)]}]);J[m1(0x53)]['exposed']=x[m1(0x5c)],J[m1(0x53)][m1(0x7f)]=x[m1(0x7f)],J[m1(0x53)][m1(0x3d)]=x['api_id'],J[m1(0x53)][m1(0xe2)]=x[m1(0xe2)],J[m1(0x53)][m1(0x10)]=e=>{const m2=m1,S=x['groupName'];if(!S)return;const U=app[m2(0x54)][m2(0x12)]||[],d=U[m2(0x25)](N=>{const m3=m2,W=N[m3(0x82)]||m3(0x37)+(U[m3(0xcd)](N)+0x1);return getGroupWidgetName(N,U[m3(0xcd)](N))===S;});if(!d)return;const f=d['id']||'group_'+U[m2(0xcd)](d),i=Y['properties']['groupStates'][f];if(!i)return;const p=Y[m2(0xa2)][m2(0x6d)]||m2(0x26);!i[m2(0xcf)]&&(i['action']=m2(0x4d));i[m2(0x0)]=!e;if(p===m2(0xb)||p==='single'){if(e)Y[m2(0x8f)]['forEach'](N=>{const m4=m2;if(N[m4(0xe2)]&&N[m4(0xe2)]!==S&&N[m4(0xe)]!==m4(0x6d)){const W=N['callback'];N[m4(0x10)]=null,N[m4(0x4a)]=![],N['callback']=W;const X=U['find'](c=>{const m5=m4,C=c[m5(0x82)]||m5(0x37)+(U[m5(0xcd)](c)+0x1);return getGroupWidgetName(c,U[m5(0xcd)](c))===N[m5(0xe2)];});if(X){const c=X['id']||m4(0x94)+U[m4(0xcd)](X),C=Y[m4(0xa2)][m4(0xde)][c];C&&(C[m4(0x0)]=!![],updateGroupNodes(X,C));}}});else{if(p==='exclusive'){const N=Y[m2(0x8f)][m2(0xc9)](W=>{const m6=m2;if(!W[m6(0xe2)]||W[m6(0xe2)]===S||W[m6(0xe)]===m6(0x6d))return![];return W[m6(0x4a)]===!![];});if(!N){const W=J[m2(0x53)][m2(0x10)];J[m2(0x53)][m2(0x10)]=null,J[m2(0x53)][m2(0x4a)]=!![],J[m2(0x53)][m2(0x10)]=W,i[m2(0x0)]=![];return;}}}}d&&updateGroupNodes(d,i),app['graph'][m2(0xeb)](!![],!![]);};}}Y[m1(0xc1)]&&Y[m1(0xc1)](Y[m1(0x8f)][Y[m1(0x8f)]['length']-0x1],Y[m1(0x8f)][m1(0x2e)]-0x1);});if(Y['widgets']&&Y['properties'][O(0xde)]){const x=app[O(0x54)][O(0x12)]||[];Object[O(0x50)](Y['properties'][O(0xde)])[O(0x51)](B=>{const m7=O,J=Y['properties'][m7(0xde)][B],e=x[m7(0x25)](S=>(S['id']||m7(0x94)+x[m7(0xcd)](S))===B);e&&J&&updateGroupNodes(e,J);}),Y[O(0x8f)]['forEach'](B=>{const m8=O;if(B[m8(0xe2)]&&B['name']!=='mode'){const J=x['find'](e=>{const m9=m8,S=e['title']||m9(0x37)+(x['indexOf'](e)+0x1);return getGroupWidgetName(e,x[m9(0xcd)](e))===B[m9(0xe2)];});if(J){const e=J['id']||m8(0x94)+x[m8(0xcd)](J),S=Y[m8(0xa2)]['groupStates'][e];if(S){const U=B[m8(0x10)];B[m8(0x10)]=null,B[m8(0x4a)]=!S[m8(0x0)],B[m8(0x10)]=U;}}}});}delete Y[O(0xd9)],app[O(0x54)]['setDirtyCanvas'](!![],!![]),setTimeout(()=>{const mm=O;app[mm(0x54)]['setDirtyCanvas'](!![],!![]),app[mm(0x83)][mm(0x98)](!![],!![]);},0x64);return;}return;}Y['widgets']=Y[O(0x8f)]['filter'](B=>B[O(0xe)]===O(0x6d)),Y[O(0x8f)]['forEach'](B=>{const mA=O;B[mA(0xe)]===mA(0x6d)&&initializeWidgetPsapiProperties(B,![]);});!Y[O(0xa2)]['groupStates']&&(Y[O(0xa2)][O(0xde)]={});app['graph'][O(0x12)]&&app[O(0x54)]['_groups']['forEach'](B=>{const mb=O;B&&(B['recomputeInsideNodes'](),B[mb(0x23)]&&(B['_nodes']=B[mb(0x23)]['filter'](J=>J!==null&&J!==undefined)));});const v=app['graph']['_groups']||[];v[O(0x51)](B=>{const mu=O;B&&!B[mu(0x23)]&&(B[mu(0x23)]=[],B['recomputeInsideNodes']());});if(!v[O(0x2e)])return;const g=[...v][O(0x8)]((B,J)=>{const mY=O,e=B['id']||mY(0x94)+v[mY(0xcd)](B),S=J['id']||mY(0x94)+v['indexOf'](J),U=Y[mY(0xa2)]['groupStates'][e]?.[mY(0x22)],d=Y[mY(0xa2)][mY(0xde)][S]?.['order'];if(U===undefined&&d===undefined)return 0x0;if(U===undefined)return 0x1;if(d===undefined)return-0x1;return U-d;});g[O(0x51)]((B,J)=>{const mv=O,e=B['id']||mv(0x94)+v[mv(0xcd)](B);!Y[mv(0xa2)][mv(0xde)][e]&&(Y['properties'][mv(0xde)][e]={'enabled':!![],'action':mv(0x4d),'visible':!![],'order':undefined});const S=Y['properties'][mv(0xde)][e];B[mv(0x69)]();if(S[mv(0xaa)]!==![]){const U=B[mv(0x82)]||mv(0x37)+(J+0x1),d=getGroupWidgetName(B,v[mv(0xcd)](B)),f=ComfyWidgets[mv(0x5e)](Y,d,[mv(0x5e),{'default':!S['enabled'],'label_on':'true','label_off':mv(0xa6),'label':U}]);f&&f[mv(0x53)]&&(initializeWidgetPsapiProperties(f[mv(0x53)],![]),f[mv(0x53)][mv(0xe2)]=d),f[mv(0x53)][mv(0x10)]=i=>{const mg=mv,p=Y[mg(0xa2)][mg(0x6d)]||mg(0x26);!S[mg(0xcf)]&&(S[mg(0xcf)]=mg(0x4d));S['enabled']=!i;if(p===mg(0xb)||p==='single'){if(i)v[mg(0x51)]((N,W)=>{const mx=mg;if(W!==J){const X=N['id']||mx(0x94)+W,c=Y[mx(0xa2)][mx(0xde)][X];if(c&&c['visible']!==![]){c[mx(0x0)]=!![],updateGroupNodes(N,c);const C=getSafeWidgetName(N[mx(0x82)]||mx(0x37)+(W+0x1)),M=Y[mx(0x8f)][mx(0x25)](s=>s[mx(0xe)]===C);M&&(M[mx(0x4a)]=![]);}}});else{if(p===mg(0xb)){const N=v[mg(0xc9)]((W,X)=>{const mB=mg;if(X===J)return![];const c=W['id']||mB(0x94)+X,C=Y[mB(0xa2)][mB(0xde)][c];return C&&C['visible']!==![]&&!C[mB(0x0)];});if(!N){f[mg(0x53)][mg(0x4a)]=!![],S[mg(0x0)]=![];return;}}}}updateGroupNodes(B,S),app['graph']['setDirtyCanvas'](!![],!![]);},Y[mv(0xc1)]&&f&&Y[mv(0xc1)](f,Y[mv(0x8f)][mv(0x2e)]-0x1);}}),app[O(0x54)][O(0xeb)](!![],!![]);}function toggleGroupNodes(Y){const mJ=u;app[mJ(0x54)]['setDirtyCanvas'](!![],!![]);}function showSwitchSettings(Y){const me=u,v=document[me(0xe6)]('div');if(!Y[me(0xa2)])Y[me(0xa2)]={};if(!Y[me(0xa2)][me(0xde)])Y['properties'][me(0xde)]={};if(!Y['properties']['mode'])Y[me(0xa2)][me(0x6d)]=me(0x26);v[me(0x2)]=me(0xb9);const g=document[me(0xe6)]('style');g[me(0x18)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20.group-switch-dialog\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#000000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2085vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20600px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x208px\x20rgba(255,255,255,0.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20-apple-system,\x20BlinkMacSystemFont,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.dialog-header\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.dialog-title\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#eee;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.close-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20color\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.close-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.mode-selector\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding-bottom:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.mode-selector\x20h4\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.mode-options\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.mode-option\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.group-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-between;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x206px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#111111;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.group-title\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.controls-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.switch-control,\x20.action-control\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.mode-label,\x20.show-label,\x20.action-label\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22checkbox\x22],\x20input[type=\x22radio\x22]\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',document[me(0x47)][me(0xea)](g);const x=document['createElement']('div');x[me(0x2)]='dialog-header';const B=document['createElement']('button');B['textContent']='çµä»™å„¿å’ŒäºŒç‹—å­',B[me(0x42)][me(0xa3)]='#ff69b4',B[me(0x42)][me(0x71)]=me(0xe1),B[me(0x42)][me(0xca)]=me(0x8d),B[me(0x42)][me(0x55)]=me(0x63),B[me(0x42)][me(0x34)]=me(0xb2),B[me(0x42)][me(0xc6)]=me(0xa0),B[me(0x42)][me(0x14)]=me(0x29),B[me(0x1e)](me(0xd2),()=>{const mS=me;window[mS(0x2f)](mS(0x4c),mS(0xd6));}),x['appendChild'](B);const J=document[me(0xe6)]('h2');J[me(0x2)]=me(0xa9),J[me(0x18)]=me(0x60),x[me(0xea)](J);const e=document[me(0xe6)](me(0xdb));e['className']=me(0x33),e[me(0x8e)]='âŒ',e[me(0x82)]='å…³é—­',e['addEventListener'](me(0xd2),function(){const mU=me,W=Y;if(W){const X=W['id'];W['psapi']?(W['setDirtyCanvas'](!![],!![]),app[mU(0x54)][mU(0xeb)](!![],!![])):(setupGroupSwitches(W),app[mU(0x54)][mU(0xeb)](!![],!![]),setTimeout(()=>{const md=mU,c=app[md(0x54)]['_nodes_by_id'][X];c&&!c[md(0x7e)]&&(c[md(0x8f)]=c['widgets']||[],setupGroupSwitches(c),c[md(0xd4)]&&c[md(0xd4)](),c[md(0xeb)](!![],!![]),app[md(0x54)][md(0xeb)](!![],!![]),app[md(0x54)][md(0x40)]=!![],c[md(0x35)]&&c[md(0x35)](),c[md(0xeb)](!![],!![]));},0x64),setTimeout(()=>{const mf=mU;app['graph'][mf(0xaf)](),app[mf(0x54)]['setDirtyCanvas'](!![],!![]);},0x12c));}v&&v[mU(0x67)]&&v[mU(0x67)][mU(0x7a)](v),g&&g[mU(0x67)]&&g[mU(0x67)][mU(0x7a)](g);},![]),x[me(0xea)](e),v[me(0xea)](x);const S=document['createElement'](me(0x31));S[me(0x2)]=me(0xe0);const U=document['createElement']('h4');U[me(0x18)]='Mode:',S[me(0xea)](U);const d=document['createElement'](me(0x31));d[me(0x2)]='mode-options';const f=[{'value':me(0x26),'label':me(0x9b)},{'value':me(0xb),'label':'Exclusive'},{'value':me(0x99),'label':'Single'}];f['forEach'](W=>{const mi=me,X=document[mi(0xe6)](mi(0x31));X[mi(0x2)]=mi(0x81);const c=document[mi(0xe6)](mi(0x11));c['type']=mi(0xe9),c[mi(0xe)]=mi(0x6d),c[mi(0x4a)]=W['value'],c['id']=mi(0xa1)+W[mi(0x4a)],c[mi(0x3b)]=Y[mi(0xa2)]['mode']===W[mi(0x4a)],c[mi(0x42)][mi(0x14)]=mi(0xb2),c[mi(0x1e)]('change',()=>{const mp=mi;if(c['checked']){Y['properties'][mp(0x6d)]=W[mp(0x4a)];const M=Y[mp(0x8f)]?Y[mp(0x8f)][mp(0x25)](s=>s[mp(0xe)]===mp(0x6d)):null;M&&(M['value']=W['value']);if(Y[mp(0x7e)]){const s=app[mp(0x54)][mp(0x12)]||[];s[mp(0x51)]((q,E)=>{const mN=mp;if(!q)return;const H=q['id']||mN(0x94)+E,V=Y[mN(0xa2)][mN(0xde)][H];V&&updateGroupNodes(q,V);});}else{setupGroupSwitches(Y);const q=app[mp(0x54)][mp(0x12)]||[];q[mp(0x51)]((E,H)=>{const mW=mp;if(!E)return;const V=E['id']||mW(0x94)+H,n=Y['properties'][mW(0xde)][V];n&&updateGroupNodes(E,n);});}app[mp(0x54)][mp(0xeb)](!![],!![]),v&&v[mp(0x67)]&&v['parentNode'][mp(0x7a)](v),g&&g[mp(0x67)]&&g[mp(0x67)]['removeChild'](g),setTimeout(()=>{showSwitchSettings(Y);},0x32);}});const C=document[mi(0xe6)](mi(0xb6));C[mi(0x18)]=W[mi(0xb6)],C['className']=mi(0x19),C[mi(0x2c)]=mi(0xa1)+W[mi(0x4a)],X[mi(0xea)](c),X[mi(0xea)](C),d[mi(0xea)](X);}),S[me(0xea)](d),v[me(0xea)](S);const i=app[me(0x54)]['_groups']||[],p=document[me(0xe6)](me(0x31));p['id']=me(0x5a),p[me(0x42)][me(0x61)]=me(0x16),v[me(0xea)](p);function N(){const mX=me,W=p[mX(0xdd)];p[mX(0x8e)]='';if(!Y||!Y[mX(0xa2)]||!Y[mX(0xa2)][mX(0xde)])return;if(i&&i[mX(0x2e)]){const X=[...i]['filter'](c=>c!=null)['sort']((c,C)=>{const mc=mX;if(!c||!C)return 0x0;const M=c['id']||mc(0x94)+i[mc(0xcd)](c),s=C['id']||'group_'+i[mc(0xcd)](C);!Y[mc(0xa2)]['groupStates'][M]&&(Y['properties'][mc(0xde)][M]={'enabled':!![],'visible':!![],'action':mc(0x4d),'order':undefined});!Y[mc(0xa2)][mc(0xde)][s]&&(Y['properties'][mc(0xde)][s]={'enabled':!![],'visible':!![],'action':mc(0x4d),'order':undefined});const q=Y[mc(0xa2)][mc(0xde)][M][mc(0xaa)]!==![],E=Y[mc(0xa2)]['groupStates'][s][mc(0xaa)]!==![];if(q!==E)return q?-0x1:0x1;const H=Y[mc(0xa2)][mc(0xde)][M]['order'],V=Y[mc(0xa2)]['groupStates'][s][mc(0x22)];if(H!==undefined!==(V!==undefined))return H!==undefined?-0x1:0x1;if(H!==undefined&&V!==undefined)return H-V;return i[mc(0xcd)](c)-i[mc(0xcd)](C);});X['forEach']((c,C)=>{const mC=mX,M=c['id']||mC(0x94)+i[mC(0xcd)](c);!Y[mC(0xa2)][mC(0xde)][M]&&(Y[mC(0xa2)]['groupStates'][M]={'enabled':!![],'action':mC(0x4d),'visible':!![],'order':undefined});const s=Y[mC(0xa2)][mC(0xde)][M],q=document[mC(0xe6)](mC(0x31));q[mC(0x2)]=mC(0x9e);!s[mC(0xaa)]?(q[mC(0x42)][mC(0x1a)]=mC(0xb8),q[mC(0x42)][mC(0x71)]=mC(0x9),q[mC(0x42)][mC(0x92)]='#2a2a2a',q[mC(0x42)][mC(0xb1)]=mC(0x74)):q['style'][mC(0xb1)]=mC(0x95);const E=document[mC(0xe6)](mC(0x31));E[mC(0x2)]=mC(0x65),E['style'][mC(0x6a)]=mC(0x6f),E[mC(0x42)]['alignItems']=mC(0x2b),E[mC(0x42)][mC(0x6f)]='1',E['style']['minWidth']=mC(0x7),E[mC(0x42)]['width']=mC(0x7d),E[mC(0x42)]['marginRight']=mC(0x6b),E[mC(0x42)][mC(0xc6)]='pointer';const H=document[mC(0xe6)]('h4');H[mC(0x2)]='group-title',H[mC(0x18)]=c[mC(0x82)]?c['title']:mC(0xdf)+(C+0x1),H['style']['margin']='0',H['style']['whiteSpace']=mC(0x89),H['style'][mC(0x1b)]=mC(0x4),H[mC(0x42)][mC(0x58)]='ellipsis',H[mC(0x42)]['flex']='1',H[mC(0x42)]['minWidth']=mC(0x6);const V=document['createElement'](mC(0xab));V[mC(0x8e)]='âœï¸',V[mC(0x42)][mC(0x1a)]='0',V[mC(0x42)]['marginLeft']=mC(0xb2),V[mC(0x42)][mC(0x57)]='12px',E[mC(0x1e)](mC(0x72),function(){const mM=mC;V[mM(0x42)][mM(0x1a)]='0.7';}),E[mC(0x1e)](mC(0xe8),function(){const ms=mC;V['style'][ms(0x1a)]='0';}),E[mC(0x1e)]('click',function(){const mq=mC,o=document[mq(0xe6)]('input');o[mq(0xae)]=mq(0x13),o[mq(0x4a)]=c[mq(0x82)]||mq(0xdf)+(C+0x1),o[mq(0x42)][mq(0xc3)]=mq(0x59),o[mq(0x42)][mq(0x57)]=mq(0x24),o['style'][mq(0xa)]=mq(0x9d),o['style'][mq(0x55)]=mq(0xb7),E[mq(0x8e)]='',E[mq(0xea)](o),o['focus'](),o[mq(0x20)]();const l=()=>{const mE=mq,I=o[mE(0x4a)][mE(0xc5)]();I?(c[mE(0x82)]=I,!Y['psapi']&&setupGroupSwitches(Y),app['graph']['setDirtyCanvas'](!![],!![]),N()):N();};o['addEventListener'](mq(0x9a),l),o[mq(0x1e)](mq(0x3c),function(I){const mH=mq;if(I[mH(0xce)]==='Enter')l(),I['preventDefault']();else I[mH(0xce)]==='Escape'&&(N(),I[mH(0xbe)]());});}),E[mC(0xea)](H),E[mC(0xea)](V),q['appendChild'](E);const n=document[mC(0xe6)](mC(0x31));n[mC(0x2)]=mC(0x52);const Z=document[mC(0xe6)](mC(0x31));Z[mC(0x2)]=mC(0xc2),Z['style'][mC(0x14)]='10px';const D=document['createElement'](mC(0x11));D['type']='number',D['min']='1',D[mC(0x96)]=mC(0x62),D['value']=s[mC(0x22)]!==undefined?s[mC(0x22)]:'',D['placeholder']='æ— ',D['style'][mC(0xc3)]=mC(0xd8),D[mC(0x42)][mC(0x14)]=mC(0xb2),D[mC(0x1e)](mC(0xaf),function(){const mV=mC;if(this[mV(0x4a)]==='')s[mV(0x22)]=undefined,!Y[mV(0x7e)]&&setupGroupSwitches(Y),app[mV(0x54)][mV(0xeb)](!![],!![]),N();else{const o=parseInt(this[mV(0x4a)]);o>=0x1&&o<=0x64?(s[mV(0x22)]=o,!Y[mV(0x7e)]&&setupGroupSwitches(Y),app[mV(0x54)][mV(0xeb)](!![],!![]),N()):this[mV(0x4a)]=s[mV(0x22)]!==undefined?s[mV(0x22)]:'';}});const k=document[mC(0xe6)](mC(0xb6));k[mC(0x18)]=mC(0xee),k[mC(0x2)]=mC(0x5),k[mC(0x42)][mC(0x14)]='10px',Z[mC(0xea)](D),Z[mC(0xea)](k),n[mC(0xea)](Z);const G=document[mC(0xe6)](mC(0x11));G[mC(0xae)]=mC(0x90),G[mC(0x2)]=mC(0x7b),G[mC(0x3b)]=s[mC(0xaa)]||![],G[mC(0x82)]='åœ¨ä¸»èŠ‚ç‚¹ä¸Šæ˜¾ç¤ºæ­¤ç»„çš„å¼€å…³';const r=Y;G[mC(0x1e)](mC(0xd2),function(){const mn=mC;if(!r||!r[mn(0xa2)]||!r[mn(0xa2)][mn(0xde)])return;const o=c['id']||mn(0x94)+i['indexOf'](c),l=r['properties']['groupStates'][o];if(!l)return;l[mn(0xaa)]=this['checked'],!r[mn(0x7e)]&&setupGroupSwitches(r),app['graph']['setDirtyCanvas'](!![],!![]),N();}),n[mC(0xea)](G);const F=document[mC(0xe6)](mC(0xab));F[mC(0x18)]=mC(0x76),F['style'][mC(0x38)]=mC(0x84),F[mC(0x42)]['marginRight']='10px',n[mC(0xea)](F);const y=document[mC(0xe6)](mC(0x31));y['className']=mC(0x46);const w=document['createElement'](mC(0x11));w['type']=mC(0xe9),w['name']=mC(0x3)+M,w['value']=mC(0x4d),w['id']=mC(0xc7)+M,w['checked']=s[mC(0xcf)]===mC(0x4d),w['style'][mC(0x14)]=mC(0x6e),w[mC(0x1e)](mC(0xaf),function(){const mZ=mC;this[mZ(0x3b)]&&(s['action']=mZ(0x4d),updateGroupNodes(c,s),app[mZ(0x54)][mZ(0xeb)](!![],!![]));});const z=document[mC(0xe6)]('label');z['textContent']=mC(0xcb),z[mC(0x2)]=mC(0x97),z[mC(0x2c)]=mC(0xc7)+M,z['style'][mC(0x14)]=mC(0x91),y['appendChild'](w),y[mC(0xea)](z);const L=document[mC(0xe6)](mC(0x11));L[mC(0xae)]=mC(0xe9),L[mC(0xe)]=mC(0x3)+M,L[mC(0x4a)]=mC(0x3f),L['id']=mC(0x77)+M,L[mC(0x3b)]=s[mC(0xcf)]==='ignore',L[mC(0x42)][mC(0x14)]=mC(0x6e),L[mC(0x1e)]('change',()=>{const mD=mC;L[mD(0x3b)]&&(s['action']=mD(0x3f),updateGroupNodes(c,s),app[mD(0x54)][mD(0xeb)](!![],!![]));});const a=document[mC(0xe6)](mC(0xb6));a[mC(0x18)]=mC(0xe3),a[mC(0x2)]=mC(0x97),a[mC(0x2c)]=mC(0x77)+M,y[mC(0xea)](L),y[mC(0xea)](a),n[mC(0xea)](y),q[mC(0xea)](n),p[mC(0xea)](q);});}else{const c=document[mX(0xe6)]('p');c[mX(0x18)]=mX(0x45),c['style'][mX(0x71)]=mX(0x66),p[mX(0xea)](c);}p[mX(0xdd)]=W;}N(),document[me(0x75)]['appendChild'](v);}function checkGroupNodesStatus(Y){const mk=u;if(!Y[mk(0x23)]||!Y[mk(0x23)][mk(0x2e)])return![];return Y[mk(0x23)]['some'](v=>v&&v[mk(0x6d)]===0x0);}function updateGroupNodes(Y,v){const mG=u;if(!Y||!v)return;if(v[mG(0xaa)]===![])return;let g=![];const x=v[mG(0xcf)]||'disable';if(!Y[mG(0x23)])return;Y[mG(0x23)][mG(0x51)](B=>{const mr=mG;if(B){let J;v[mr(0x0)]?J=x===mr(0x3f)?0x4:0x2:J=0x0,B[mr(0x6d)]!==J&&(B[mr(0x6d)]=J,B[mr(0xeb)](!![],!![]),g=!![]);}}),g&&(app[mG(0x54)][mG(0xeb)](!![],!![]),app[mG(0x83)]&&app[mG(0x83)][mG(0x98)](!![],!![])),Y&&updateSwitchUIFromNodes(Y);}function updateSwitchUIFromNodes(Y){const mF=u;if(!Y)return;const v=Y[mF(0x23)]||[],g=v[mF(0xc9)](x=>x&&x[mF(0x6d)]===0x0);if(!app[mF(0x54)]||!app[mF(0x54)][mF(0x23)])return;app[mF(0x54)][mF(0x23)][mF(0x51)](x=>{const my=mF;if(x[my(0xae)]==='GroupSwitchNodi'&&!x[my(0x7e)]){const B=app[my(0x54)][my(0x12)]?app[my(0x54)][my(0x12)]['indexOf'](Y):-0x1;if(B===-0x1)return;const J=Y['id']||my(0x94)+B;(!x[my(0xa2)]||!x[my(0xa2)]['groupStates'])&&(x['properties']=x[my(0xa2)]||{},x['properties'][my(0xde)]={});!x[my(0xa2)][my(0xde)][J]&&(x['properties'][my(0xde)][J]={'enabled':!g,'action':my(0x4d),'visible':!![]});const e=x['properties'][my(0xde)][J],S=getGroupWidgetName(Y,B),U=x[my(0x8f)]?.['find'](d=>d[my(0xe)]===S);if(U){const d=g;if(U['value']!==d){const f=U[my(0x10)];U[my(0x10)]=null,U['value']=d,e[my(0x0)]=!d,U[my(0x10)]=f;}}}});}app['registerExtension']({'name':mw(0x5b),async 'setup'(){const mz=mw,Y=app[mz(0x54)][mz(0x56)];app[mz(0x54)][mz(0x56)]=function(x,B){const J=Y['apply'](this,arguments);return g(x),J;};const v=app[mz(0x54)][mz(0xc0)];app['graph']['onSerialize']=function(x){const mL=mz;return app[mL(0x54)][mL(0x23)][mL(0x51)](B=>{const ma=mL;B[ma(0xae)]!==ma(0x6c)&&g(B);}),v?.['apply'](this,arguments);},setInterval(()=>{const mo=mz;app['graph']['_nodes'][mo(0x51)](x=>{const ml=mo;x['type']!==ml(0x6c)&&g(x);});},0x3e8);function g(x){const mI=mz;if(!x||!app[mI(0x54)])return;const B=app['graph'][mI(0x12)]||[];B['forEach'](J=>{const mt=mI;J&&J[mt(0x23)]&&J[mt(0x23)]['includes'](x)&&setTimeout(()=>{J&&updateSwitchUIFromNodes(J);},0x64);});}}});function getGroupsFingerprint(Y){const mK=mw;if(!Y||!Y[mK(0x2e)])return mK(0x88);let v=Y['length']+':';return Y[mK(0x51)]((g,x)=>{const mP=mK,B=g['id']||mP(0x94)+x,J=g['title']||'æœªå‘½åç»„'+x,e=(g[mP(0x23)]||[])[mP(0x2e)];v+=B+':'+J+':'+e+';';}),v;}app[mw(0xb3)]({'name':mw(0x8a),async 'setup'(){const mQ=mw,Y=new Set(),v=app[mQ(0x54)]['onProcessStart'];app[mQ(0x54)][mQ(0xb4)]=function(){const mR=mQ;v&&v[mR(0x79)](this,arguments),Y['size']>0x0&&(Y[mR(0x51)](x=>{const mj=mR;x&&x[mj(0xae)]===mj(0x6c)&&(setupGroupSwitches(x),x[mj(0xeb)](!![],!![]));}),Y[mR(0x39)]());};const g=app[mQ(0x54)][mQ(0xa4)];app[mQ(0x54)][mQ(0xa4)]=function(x){const mh=mQ,B=g['apply'](this,arguments);if(x&&x[mh(0xae)]===mh(0x6c)){Y[mh(0xa4)](x);const J=x['id'];setTimeout(()=>{const mT=mh,e=app[mT(0x54)]['_nodes_by_id'][J];e&&(e[mT(0x8f)]=e['widgets']||[],!e[mT(0x7e)]?(setupGroupSwitches(e),e[mT(0xd4)]&&e['onWidgetsModified'](),e[mT(0xeb)](!![],!![]),app['graph'][mT(0xeb)](!![],!![]),setTimeout(()=>{const mO=mT;setupGroupSwitches(e),app[mO(0x54)][mO(0xaf)](),app[mO(0x54)][mO(0xeb)](!![],!![]);},0xc8)):(e[mT(0xeb)](!![],!![]),app['graph'][mT(0xeb)](!![],!![])));},0x64);}return B;};}}),app[mw(0xb3)]({'name':'Comfy.GroupSwitchUpdated',async 'beforeRegisterNodeDef'(Y){const A0=mw;if(Y[A0(0x5d)]===A0(0x6c)){const v=Y[A0(0xbf)][A0(0x64)];Y[A0(0xbf)][A0(0x64)]=function(){const A1=A0;v&&v[A1(0x79)](this,arguments);this['properties']={},this[A1(0xa2)]['groupStates']={},this[A1(0xa2)][A1(0x6d)]=A1(0x26),this[A1(0x7e)]=![],this['psapi_label']=null;const e=app[A1(0x54)][A1(0x12)]||[];e[A1(0x51)]((U,d)=>{const A2=A1;if(!U)return;const f=U['id']||A2(0x94)+d;this['properties'][A2(0xde)][f]={'enabled':!![],'action':A2(0x4d),'visible':!![],'order':undefined};});const S=this['id'];setupGroupSwitches(this),this[A1(0xeb)](!![],!![]),setTimeout(()=>{const A3=A1,U=app[A3(0x54)][A3(0x36)][S];U&&(U[A3(0x8f)]=U[A3(0x8f)]||[],setupGroupSwitches(U),U[A3(0xd4)]&&U[A3(0xd4)](),U[A3(0xeb)](!![],!![]),app[A3(0x54)]['setDirtyCanvas'](!![],!![]),app['graph'][A3(0x40)]=!![],U[A3(0x35)]&&U[A3(0x35)](),U[A3(0xeb)](!![],!![]),console[A3(0x43)](A3(0x73)));},0x64),setTimeout(()=>{const A4=A1;app[A4(0x54)]&&(app[A4(0x54)]['change'](),app[A4(0x54)][A4(0xeb)](!![],!![]));},0x12c);};const g=Y[A0(0xbf)]['onAdded'];Y[A0(0xbf)][A0(0x2a)]=function(){g&&g['apply'](this,arguments),setTimeout(()=>{const A5=u;setupGroupSwitches(this),this[A5(0xeb)](!![],!![]);},0x96);};const x=Y[A0(0xbf)][A0(0x5f)];Y['prototype'][A0(0x5f)]=function(e){const A6=A0;x&&x[A6(0x79)](this,arguments),e['psapi']?(this['psapi']=!![],this[A6(0x8c)]=e[A6(0x8c)]||A6(0xd0)+this['id'],e['psapi_fixed_groups']&&(this[A6(0xa2)][A6(0xde)]=e[A6(0x7c)]),this[A6(0xd9)]=e['psapi_fixed_widgets']):(this[A6(0x7e)]=![],this[A6(0x8c)]=null),setTimeout(()=>{const A7=A6;e[A7(0x7e)]?(setupGroupSwitches(this),e[A7(0x17)]&&this[A7(0x8f)]&&e[A7(0x17)][A7(0x51)](S=>{const A8=A7,U=this[A8(0x8f)]['find'](d=>d[A8(0xe)]===S['name']);U&&(U[A8(0x5c)]=S['exposed'],U[A8(0x7f)]=S[A8(0x7f)]||U[A8(0xe)],U[A8(0x3d)]=S[A8(0x3d)]);})):setupGroupSwitches(this),this[A7(0xeb)](!![],!![]);},0x64);};const B=Y['prototype'][A0(0xda)];Y[A0(0xbf)][A0(0xda)]=function(){const A9=A0;B&&B[A9(0x79)](this,arguments),this[A9(0x15)]&&LiteGraph&&(LiteGraph[A9(0xe4)]=null,LiteGraph['onGroupRemoved']=null),this[A9(0x4f)]&&clearInterval(this[A9(0x4f)]);};const J=Y[A0(0xbf)][A0(0xdc)];Y[A0(0xbf)]['serialize']=function(){const Am=A0,e=J?J['call'](this):LGraphNode[Am(0xbf)][Am(0xdc)][Am(0x21)](this);return this[Am(0x7e)]&&(e[Am(0x7e)]=!![],e[Am(0x8c)]=this[Am(0x8c)]||Am(0xd0)+this['id'],e[Am(0x9c)]=this[Am(0x8f)]?this[Am(0x8f)][Am(0x1)](S=>serializeGroupSwitchWidget(S)):[],e['psapi_fixed_groups']=this[Am(0xa2)]['groupStates']),e;};}}}),app[mw(0xb3)]({'name':mw(0xec),async 'setup'(){const AA=mw,Y=app[AA(0xc)];app[AA(0xc)]=function(v){const g=Y['apply'](this,arguments);return setTimeout(()=>{const Ab=u;app[Ab(0x54)]['_nodes'][Ab(0x51)](x=>{const Au=Ab;if(x[Au(0xae)]===Au(0x6c)){if(x[Au(0x7e)])setupGroupSwitches(x);else{setupGroupSwitches(x);if(x[Au(0x8f)]&&x['properties'][Au(0xde)]){const B=app[Au(0x54)][Au(0x12)]||[];B[Au(0x51)]((J,e)=>{const AY=Au,S=J['id']||AY(0x94)+e,U=x[AY(0xa2)][AY(0xde)][S];if(U){updateGroupNodes(J,U);if(U[AY(0xaa)]!==![]){const d=getGroupWidgetName(J,e),f=x[AY(0x8f)][AY(0x25)](i=>i[AY(0xe)]===d);f&&(f[AY(0x4a)]=!U[AY(0x0)]);}}});}}}}),app[Ab(0x54)][Ab(0xeb)](!![],!![]);},0x64),g;};}});let originalGetNodeMenuOptions=LGraphCanvas[mw(0xbf)]['getNodeMenuOptions'];LGraphCanvas[mw(0xbf)][mw(0x8b)]=function(Y){const Av=mw,v=originalGetNodeMenuOptions[Av(0x79)](this,arguments);return Y[Av(0xae)]===Av(0x6c)&&(Y[Av(0x7e)]?v[Av(0xbb)]({'content':Av(0xd5),'callback':()=>{const Ag=Av,g=document[Ag(0xe6)](Ag(0x31));g[Ag(0x42)][Ag(0x3a)]=Ag(0x9f),g[Ag(0x8e)]=Ag(0xd7),document['body'][Ag(0xea)](g),setTimeout(()=>{const Ax=Ag;document['body'][Ax(0xed)](g)&&document[Ax(0x75)]['removeChild'](g);},0xbb8);}}):v[Av(0xbb)]({'content':Av(0x60),'callback':()=>showSwitchSettings(Y)})),v;};function updateWidgetAfterGroupRename(Y,v,g){const AB=mw;app[AB(0x54)][AB(0x23)][AB(0x51)](x=>{const AJ=AB;if(x['type']===AJ(0x6c)){const B=getSafeWidgetName(v),J=x[AJ(0x8f)]?.['find'](e=>e[AJ(0xe)]===B);if(J){J[AJ(0xe)]=getSafeWidgetName(g),J[AJ(0x85)][AJ(0xb6)]=g;if(J[AJ(0xda)])J['onRemoved']();if(J[AJ(0x2a)])J['onAdded']();app[AJ(0x54)]['setDirtyCanvas'](!![],!![]);}}});}function b(){const Ap=['innerHTML','widgets','checkbox','8px','background','function','group_','3px\x20solid\x20#3a85ff','max','action-label','draw','single','blur','Regular','psapi_fixed_widgets','500','group-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#ff9800;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010000;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x203px\x206px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointer','mode_','properties','backgroundColor','add','497nXvHvs','false','3fxuCVZ','1019139MkXjON','dialog-title','visible','span','configure','min','type','change','\x20ä»PSAPIæ¨¡å¼åˆ‡æ¢ä¸ºæ™®é€šæ¨¡å¼ï¼Œé‡å»ºwidgets','borderLeft','5px','registerExtension','onProcessStart','round','label','2px\x204px','0.6','group-switch-dialog','label_off','push','COMBO','267610KAZrTo','preventDefault','prototype','onSerialize','onWidgetAdded','order-control','width','Comfy.GroupSwitchNodi.PSApiIntegration','trim','cursor','disable_','precision','some','border','Disable','warn','indexOf','key','action','api_','updateWorkflowMetadata','click','placeholder','onWidgetsModified','ğŸ”’å›ºå®šçš„APIèŠ‚ç‚¹ï¼ˆè®¾ç½®å·²é”å®šï¼‰','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22margin:\x200\x200\x2010px\x200;\x22>APIæ¨¡å¼èŠ‚ç‚¹</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22margin:\x200;\x22>æ­¤èŠ‚ç‚¹å·²è®¾ç½®ä¸ºAPIæ¨¡å¼ï¼Œé…ç½®å·²å›ºåŒ–ã€‚<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20å¦‚éœ€ä¿®æ”¹è®¾ç½®ï¼Œè¯·å…ˆå–æ¶ˆAPIæ ‡è®°ã€‚</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','50px','_psapi_fixed_widgets','onRemoved','button','serialize','scrollTop','groupStates','æœªå‘½åç»„\x20','mode-selector','#fff','groupName','Ignore','onGroupAdded','979bFiQTp','createElement','trace','mouseleave','radio','appendChild','setDirtyCanvas','Comfy.GroupSwitchLoader','contains','Sort','enabled','map','className','action_','hidden','order-label','120px','150px','sort','#999999','fontWeight','exclusive','loadGraphData','90978wFPAZx','name','__proto__','callback','input','_groups','text','marginRight','_groupChangeCallback','10px\x200','widgets_config','textContent','mode-label','opacity','overflow','replace','2774120KWSecD','addEventListener','default','select','call','order','_nodes','13px','find','regular','toString','console','10px','onAdded','center','htmlFor','345704qEftSM','length','open','hasOwnProperty','div','èŠ‚ç‚¹\x20','close-button','borderRadius','computeSize','_nodes_by_id','æœªå‘½åç»„','marginLeft','clear','cssText','checked','keydown','api_id','values','ignore','_is_dirty','135404fQeSQe','style','log','8893521QresHb','âš ï¸\x20å½“å‰å›¾ä¸­æ²¡æœ‰ç»„','action-control','head','step2','exception','value','filter','https://space.bilibili.com/19723588?spm_id_from=333.1350.jump_directly','disable','combo','_syncInterval','keys','forEach','controls-container','widget','graph','padding','setNodeMode','fontSize','textOverflow','100%','group-settings-panel','Comfy.GroupNodeStateMonitor','exposed','comfyClass','BOOLEAN','onConfigure','2ğŸ•å¼€å…³è®¾ç½®ã€set\x20upã€‘','margin','100','5px\x2010px','onNodeCreated','group-title-container','#ff9999','parentNode','bind','recomputeInsideNodes','display','15px','GroupSwitchNodi','mode','3px','flex','145QkbIVC','color','mouseenter','æ–°èŠ‚ç‚¹æ§ä»¶å·²å¼ºåˆ¶æ›´æ–°','3px\x20solid\x20#555','body','Show','ignore_','\x20åˆ‡æ¢ä¸ºPSAPIæ¨¡å¼ï¼Œå›ºåŒ–å½“å‰widgets','apply','removeChild','show-checkbox','psapi_fixed_groups','200px','psapi','api_name','{}.constructor(\x22return\x20this\x22)(\x20)','mode-option','title','canvas','4px','options','step','true','empty','nowrap','Comfy.GroupSwitchNodeMonitor','getNodeMenuOptions','psapi_label','none'];b=function(){return Ap;};return b();}app[mw(0xb3)]({'name':mw(0xc4),async 'setup'(){const Ae=mw,Y=app[Ae(0xc)];app[Ae(0xc)]=function(g){const AS=Ae,x=Y[AS(0x21)](this,g);return setTimeout(()=>{const AU=AS;this['_nodes'][AU(0x51)](B=>{const Ad=AU;B['type']===Ad(0x6c)&&B[Ad(0x7e)]&&(B[Ad(0x8f)]&&B[Ad(0x8f)]['forEach'](J=>{initializeWidgetPsapiProperties(J,![]);}),typeof window[Ad(0xd1)]===Ad(0x93)&&window[Ad(0xd1)]());});},0x1f4),x;};const v=LGraphNode[Ae(0xbf)][Ae(0xac)];LGraphNode[Ae(0xbf)][Ae(0xac)]=function(g){const Af=Ae,x=this['psapi'],B=v[Af(0x21)](this,g);if(this[Af(0xae)]==='GroupSwitchNodi'){const J=g[Af(0x7e)]||this[Af(0x7e)];if(x&&!J)console['log'](Af(0x32)+this['id']+Af(0xb0)),setTimeout(()=>{const Ai=Af;setupGroupSwitches(this),this[Ai(0xeb)](!![],!![]);},0x64);else!x&&J&&(console['log'](Af(0x32)+this['id']+Af(0x78)),this[Af(0x8f)]&&this[Af(0x8f)][Af(0x51)](e=>{initializeWidgetPsapiProperties(e,![]);}),this[Af(0xeb)](!![],!![]));}return B;};}});